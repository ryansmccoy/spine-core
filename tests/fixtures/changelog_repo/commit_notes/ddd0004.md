# feat(core/adapters): add database adapter framework

## Migration Guide

No migration needed â€” this is a new module. If you have custom database
code, consider implementing the `DatabaseAdapter` ABC:

```python
from spine.core.adapters.base import DatabaseAdapter

class MyAdapter(DatabaseAdapter):
    def connect(self) -> None:
        self._conn = my_driver.connect(self._config.url)
    
    def disconnect(self) -> None:
        self._conn.close()
    
    def get_connection(self):
        return self._conn
```

## Architecture Diagram

```mermaid
classDiagram
    class DatabaseAdapter {
        <<abstract>>
        +connect()
        +disconnect()
        +get_connection() Connection
        +execute(sql, params) Any
        +query(sql, params) list
    }
    class SQLiteAdapter {
        -_conn: sqlite3.Connection
    }
    class PostgreSQLAdapter {
        -_conn: psycopg2.Connection
    }
    class AdapterRegistry {
        +register(name, cls)
        +get(name) DatabaseAdapter
        +list_adapters() list
    }
    DatabaseAdapter <|-- SQLiteAdapter
    DatabaseAdapter <|-- PostgreSQLAdapter
    AdapterRegistry --> DatabaseAdapter
```

## Examples

```python
from spine.core.adapters import adapter_registry, get_adapter

# Register and use an adapter
adapter = get_adapter("sqlite", url="spine.db")
adapter.connect()

results = adapter.query("SELECT * FROM runs WHERE status = ?", ("completed",))
adapter.disconnect()
```
