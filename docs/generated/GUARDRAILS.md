# GUARDRAILS

**What NOT to Do - Anti-patterns and Constraints**

*Auto-generated from code annotations on 2026-02-02*

---

> These guardrails help prevent common mistakes and enforce best practices.
> Each guardrail includes the anti-pattern to avoid and the correct approach.


## DocumentationOrchestrator

### ❌ Do NOT regenerate graph for each doc type

✅ **Instead:** Build once, share across renderers

*From [`DocumentationOrchestrator`](/app/projects/spine-core/src/doc-automation/src/doc_automation/orchestrator.py#L32)*

### ❌ Do NOT fail silently on errors

✅ **Instead:** Collect and report all errors at end

*From [`DocumentationOrchestrator`](/app/projects/spine-core/src/doc-automation/src/doc_automation/orchestrator.py#L32)*

## ASTWalker

### ❌ Do NOT parse non-Python files

✅ **Instead:** Check file extension first

*From [`ASTWalker`](/app/projects/spine-core/src/doc-automation/src/doc_automation/parser/ast_walker.py#L90)*

### ❌ Do NOT assume all files are valid Python

✅ **Instead:** Handle SyntaxError gracefully

*From [`ASTWalker`](/app/projects/spine-core/src/doc-automation/src/doc_automation/parser/ast_walker.py#L90)*

## DocstringParser

### ❌ Do NOT parse None or empty docstrings

✅ **Instead:** Return empty list immediately

*From [`DocstringParser`](/app/projects/spine-core/src/doc-automation/src/doc_automation/parser/docstring_parser.py#L71)*

### ❌ Do NOT fail on malformed sections

✅ **Instead:** Handle gracefully, skip malformed

*From [`DocstringParser`](/app/projects/spine-core/src/doc-automation/src/doc_automation/parser/docstring_parser.py#L71)*

## EntityResolver

### ❌ Do NOT use ticker as primary key (tickers change!)

✅ **Instead:** Use CIK as primary, map tickers via claims

*From [`EntityResolver`](/app/projects/spine-core/src/doc-automation/tests/fixtures/sample_annotated_class.py#L9)*

### ❌ Do NOT assume 1:1 ticker-to-entity mapping

✅ **Instead:** Handle multiple entities sharing same ticker historically

*From [`EntityResolver`](/app/projects/spine-core/src/doc-automation/tests/fixtures/sample_annotated_class.py#L9)*

### ❌ Do NOT mix entity and security identifiers

✅ **Instead:** Use separate resolution paths

*From [`EntityResolver`](/app/projects/spine-core/src/doc-automation/tests/fixtures/sample_annotated_class.py#L9)*

## FeedAdapter

### ❌ Do NOT skip validation for "trusted" sources

✅ **Instead:** Always validate, trust but verify

*From [`FeedAdapter`](/app/projects/spine-core/src/doc-automation/tests/fixtures/sample_annotated_class.py#L187)*

### ❌ Do NOT lose source metadata during transformation

✅ **Instead:** Preserve lineage in metadata columns

*From [`FeedAdapter`](/app/projects/spine-core/src/doc-automation/tests/fixtures/sample_annotated_class.py#L187)*


---

*11 guardrails documented*

*Generated by [doc-automation](https://github.com/your-org/py-sec-edgar/tree/main/spine-core/packages/doc-automation)*