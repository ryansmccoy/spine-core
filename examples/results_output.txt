======================================================================
Spine-Core Examples Runner  (persistent + tagged)
======================================================================

  Dialect DB : B:\github\py-sec-edgar\spine-core\examples\results\dialect_examples.db
  ORM DB     : B:\github\py-sec-edgar\spine-core\examples\results\orm_examples.db

  Discovered 144 examples across 15 categories
    [01_core] 24 examples
    [02_execution] 23 examples
    [03_resilience] 6 examples
    [04_orchestration] 25 examples
    [05_infrastructure] 2 examples
    [06_observability] 3 examples
    [07_real_world] 5 examples
    [08_framework] 7 examples
    [09_data_layer] 11 examples
    [10_operations] 10 examples
    [11_scheduling] 5 examples
    [12_deploy] 12 examples
    [13_runtimes] 4 examples
    [13_workflows] 1 examples
    [14_golden_workflows] 6 examples

----------------------------------------------------------------------
  [1/144] 01_core/01_result_pattern
  Title: Result Pattern — Explicit Success/Failure Handling Without Exceptions.
  Result: PASS  (0.3s)
    |   Successes: [150.5, 1234.0]
    |   Failures: 2
    | ============================================================
    | [OK] Result Pattern Complete!
    | ============================================================

----------------------------------------------------------------------
  [2/144] 01_core/02_error_handling
  Title: Error Handling — Structured Error Types with Automatic Retry Decisions.
  Result: PASS  (0.3s)
    |   safe_operation(False): success
    |   safe_operation(True): fail: Unexpected error
    | ============================================================
    | [OK] Error Handling Complete!
    | ============================================================

----------------------------------------------------------------------
  [3/144] 01_core/03_advanced_errors
  Title: Advanced Error Handling — SpineError Hierarchy with Result[T] Integration.
  Result: PASS  (0.3s)
    |   - Return Err(SpineError) in Result[T] for explicit handling
    |   - Error.retryable guides retry decisions
    |   - ErrorCategory enables routing to appropriate teams
    |   - Error chaining preserves root cause for debugging
    | ======================================================================

----------------------------------------------------------------------
  [4/144] 01_core/04_reject_handling
  Title: RejectSink — Capturing Validation Failures Without Stopping Operations.
  Result: PASS  (0.3s)
    |      INVALID_SYMBOL: 1
    |      DUPLICATE_RECORD: 1
    |      DATE_PARSE_ERROR: 1
    | ============================================================
    | RejectSink demo complete!

----------------------------------------------------------------------
  [5/144] 01_core/05_temporal_weekending
  Title: WeekEnding — Friday-Anchored Temporal Primitive for Financial Data.
  Result: PASS  (0.4s)
    |   Today: 2026-02-17
    |   Current week ending: 2026-02-20
    | ============================================================
    | [OK] Temporal WeekEnding Complete!
    | ============================================================

----------------------------------------------------------------------
  [6/144] 01_core/06_temporal_envelope
  Title: Temporal Envelope — PIT-correct timestamp wrappers and bi-temporal records.
  Result: PASS  (0.4s)
    |   Old closed:   system_to=True, is_current=False
    |   New version:  eps=1.46, is_current=True
    |   New record ID: fact-002
    | ============================================================
    | [OK] Temporal envelope example complete

----------------------------------------------------------------------
  [7/144] 01_core/07_rolling_windows
  Title: RollingWindow — Time-Series Aggregations Over Sliding Periods.
  Result: PASS  (0.3s)
    |    Trend: UP
    |    First half avg: 1,000
    |    Second half avg: 1,300
    | ============================================================
    | RollingWindow demo complete!

----------------------------------------------------------------------
  [8/144] 01_core/08_watermark_tracking
  Title: Watermark Store — Cursor-based progress tracking for incremental operations.
  Result: PASS  (0.3s)
    | --- 8. Delete watermark ---
    |   Before: 4 watermarks
    |   After:  3 watermarks
    | ============================================================
    | [OK] Watermark store example complete

----------------------------------------------------------------------
  [9/144] 01_core/09_quality_checks
  Title: Quality Checks — Automated Data Validation Framework.
  Result: PASS  (0.3s)
    |     ? record_count_2026-02-20: PASS
    |     ? data_freshness_2026-02-20: PASS
    | ============================================================
    | [OK] Quality Checks Complete!
    | ============================================================

----------------------------------------------------------------------
  [10/144] 01_core/10_idempotency
  Title: Idempotency — Safe, Re-runnable Data Operations.
  Result: PASS  (0.3s)
    |     Inserted 2 new records
    |     DB state: 2 records for week 2024-02-01 (unchanged)
    | ============================================================
    | [OK] Idempotency Complete!
    | ============================================================

----------------------------------------------------------------------
  [11/144] 01_core/11_anomaly_recording
  Title: AnomalyRecorder — Structured Operation Anomaly Tracking and Resolution.
  Result: PASS  (0.3s)
    |    [OPEN] ERROR QUALITY_GATE: Null rate 35% exceeds threshold 25%...
    |    [OPEN] WARN DATA_QUALITY: Row count dropped 20% from previous...
    |    [RESOLVED] ERROR NETWORK: Connection timeout to FINRA API...
    | ============================================================
    | AnomalyRecorder demo complete!

----------------------------------------------------------------------
  [12/144] 01_core/12_content_hashing
  Title: Hashing — Deterministic Record Hashing for Deduplication.
  Result: PASS  (0.3s)
    |    Generated 1000 hashes
    |    Unique hashes: 1000
    |    Collisions: 0
    | ============================================================
    | Hashing demo complete!

----------------------------------------------------------------------
  [13/144] 01_core/13_execution_context
  Title: ExecutionContext — Lineage Tracking and Correlation IDs for Data Operations.
  Result: PASS  (0.3s)
    | [6] Context for Logging
    |   Log context: {'execution_id': 'ec44ec46-022f-4f2a-9048-20cefa83a3b1', 'batch_id': 'logging_20260217T220328_86c4957f', 'started_at': '2026-02-17T22:03:28.899860'}
    | ============================================================
    | [OK] Execution Context Complete!
    | ============================================================

----------------------------------------------------------------------
  [14/144] 01_core/14_work_manifest
  Title: WorkManifest — Multi-Stage Workflow Progress Tracking.
  Result: PASS  (0.3s)
    |    Stage: INGESTED, Rank: 1, Rows: 1000
    |    Stage: NORMALIZED, Rank: 2, Rows: 950
    |    Stage: AGGREGATED, Rank: 3, Rows: 100
    | ============================================================
    | WorkManifest demo complete!

----------------------------------------------------------------------
  [15/144] 01_core/15_backfill_planning
  Title: Backfill Plan — Structured backfill planning with checkpoint resume.
  Result: PASS  (0.3s)
    |     correction           -> plan_id=01KHPT2FAPPD...
    |     schema_change        -> plan_id=01KHPT2FAPCY...
    |     quality_failure      -> plan_id=01KHPT2FAPPS...
    | ============================================================
    | [OK] Backfill plan example complete

----------------------------------------------------------------------
  [16/144] 01_core/16_cache_backends
  Title: Cache Backends — Tiered Caching with Protocol-Based Swappability.
  Result: PASS  (2.5s)
    | === Protocol-Based Swapping ===
    | Cache MISS for api:data:123 — fetching...
    | Cache HIT for api:data:123
    | First call:  {'data': 'computed_api:data:123', 'expensive': True}
    | Second call: {'data': 'computed_api:data:123', 'expensive': True}

----------------------------------------------------------------------
  [17/144] 01_core/17_versioned_content
  Title: Versioned Content — Immutable Version History with Event-Sourcing Semantics.
  Result: PASS  (0.3s)
    |   Original:  We face significant competition in all areas of ou...
    |   Expanded:  We face significant competition in all areas of ou...
    |   Versions:  2
    | ============================================================
    | [OK] Versioned content example complete

----------------------------------------------------------------------
  [18/144] 01_core/18_domain_primitives
  Title: Enums and Timestamps — Shared Domain Primitives for the Spine Ecosystem.
  Result: PASS  (0.3s)
    | --- 9. Legal enums ---
    |   Case: investigation (open)
    |   Updated: settled
    | ============================================================
    | [OK] Enums and timestamps example complete

----------------------------------------------------------------------
  [19/144] 01_core/19_tagging
  Title: Multi-Dimensional Tagging — Faceted Search with Provenance Tracking.
  Result: PASS  (0.3s)
    | --- 6. SEC filing tags ---
    |   Dimensions: ['filing_types', 'risk_categories', 'regions', 'entities']
    |   Risk cats:  ['competition', 'regulatory', 'supply_chain']
    | ============================================================
    | [OK] Tagging example complete

----------------------------------------------------------------------
  [20/144] 01_core/20_asset_tracking
  Title: Asset Tracking — Dagster-Inspired Data Artifact Management.
  Result: PASS  (0.3s)
    |   Contains predictions: True
    |   ML group: ['custom/model/predictions', 'custom/model/features']
    | ============================================================
    | All asset tracking examples completed successfully!
    | ============================================================

----------------------------------------------------------------------
  [21/144] 01_core/21_finance_adjustments
  Title: Finance Adjustments — Factor-based adjustment math for per-share metrics.
  Result: PASS  (0.3s)
    |     2025-01-01: 2.0x
    |     2025-06-01: 3.0x
    |     2025-12-01: 5.0x
    | ============================================================
    | [OK] Finance adjustments example complete

----------------------------------------------------------------------
  [22/144] 01_core/22_finance_corrections
  Title: Finance Corrections — Why-an-observation-changed taxonomy with audit trail.
  Result: PASS  (0.3s)
    |   Ready for JSON/DB storage: True
    | --- 8. Immutability (frozen dataclass) ---
    |   Correctly blocked mutation (frozen=True)
    | ============================================================
    | [OK] Finance corrections example complete

----------------------------------------------------------------------
  [23/144] 01_core/23_feature_flags
  Title: Feature Flags — Runtime Feature Toggling with Environment Overrides.
  Result: PASS  (0.4s)
    |   timeout_seconds: 30.5 (type=float, default=30.5)
    |   log_level: INFO (type=string, default=INFO)
    | ============================================================
    | All feature flag examples completed successfully!
    | ============================================================

----------------------------------------------------------------------
  [24/144] 01_core/24_secrets_resolver
  Title: Secrets Resolver — Pluggable Credential Management with Automatic Redaction.
  Result: PASS  (0.4s)
    | [9] Custom Backend Implementation
    |   PrefixedBackend.get('token'): production_token_123
    | ============================================================
    | All secrets resolver examples completed successfully!
    | ============================================================

----------------------------------------------------------------------
  [25/144] 02_execution/01_workspec_basics
  Title: WorkSpec — The Universal Work Description for Tasks, Operations, and Workflows.
  Result: PASS  (0.7s)
    |   Max Retries: 5
    |   Retry Delay: 30s
    | ============================================================
    | [OK] WorkSpec Basics Complete!
    | ============================================================

----------------------------------------------------------------------
  [26/144] 02_execution/02_handler_registration
  Title: Handler Registration — Mapping WorkSpecs to Executable Functions.
  Result: PASS  (0.6s)
    |     - operation:data_pipeline
    |     - task:manual_task
    | ============================================================
    | [OK] Handler Registration Complete!
    | ============================================================

----------------------------------------------------------------------
  [27/144] 02_execution/03_dispatcher_basics
  Title: Dispatcher — The Central Hub for Submitting and Tracking Work.
  Result: PASS  (1.1s)
    |   WorkSpec submitted: fetch_quote
    |   Result: {'symbol': 'GOOGL', 'price': 185.5, 'volume': 45000000}
    | ============================================================
    | [OK] Dispatcher Basics Complete!
    | ============================================================

----------------------------------------------------------------------
  [28/144] 02_execution/04_run_lifecycle
  Title: Run Lifecycle — Understanding RunRecord State Transitions.
  Result: PASS  (0.9s)
    |   Trigger Source: manual
    |   Metadata: {'source': 'example', 'priority': 'high'}
    | ============================================================
    | [OK] Run Lifecycle Complete!
    | ============================================================

----------------------------------------------------------------------
  [29/144] 02_execution/05_memory_executor
  Title: MemoryExecutor — In-Process Async Execution for Development and Testing.
  Result: PASS  (0.8s)
    |   Original: [1, 2, 3]
    |   Processed: [2, 4, 6]
    | ============================================================
    | [OK] Memory Executor Complete!
    | ============================================================

----------------------------------------------------------------------
  [30/144] 02_execution/06_local_executor
  Title: LocalExecutor — ThreadPool-Based Execution for I/O-Bound Concurrency.
  Result: PASS  (1.3s)
    |   ? GIL limits CPU parallelism (use ProcessPoolExecutor for CPU)
    |   ? Handlers must be synchronous (not async)
    | ============================================================
    | [OK] Local Executor Complete!
    | ============================================================

----------------------------------------------------------------------
  [31/144] 02_execution/07_async_patterns
  Title: Async Patterns — Coordination Strategies for Concurrent Operation Tasks.
  Result: PASS  (1.0s)
    | [6] Error Handling in Parallel
    |   Successes: 3/3
    | ============================================================
    | [OK] Async Patterns Complete!
    | ============================================================

----------------------------------------------------------------------
  [32/144] 02_execution/08_fastapi_integration
  Title: FastAPI Integration — Building REST APIs for Operation Orchestration.
  Result: PASS  (1.0s)
    |   - task:validate_records
    | App created with 16 routes
    | Run with --serve to start the HTTP server
    | ============================================================
    | ? FastAPI integration example validated successfully

----------------------------------------------------------------------
  [33/144] 02_execution/09_execution_ledger
  Title: ExecutionLedger — Persistent Execution Audit Trail with Full Lifecycle.
  Result: PASS  (0.6s)
    | 7. Idempotency key lookup...
    |    Found by idempotency key: dea7616a...
    |    Workflow: finra.otc.aggregate
    | ============================================================
    | ExecutionLedger demo complete!

----------------------------------------------------------------------
  [34/144] 02_execution/10_execution_repository
  Title: ExecutionRepository — Analytics and Maintenance Queries for Executions.
  Result: FAIL  (0.6s)
    |         LIMIT 5
    |         ^^^^^^^
    |     """)
    |     ^^^^
    | sqlite3.OperationalError: no such column: operation

----------------------------------------------------------------------
  [35/144] 02_execution/11_batch_execution
  Title: BatchExecutor — Coordinated Multi-Operation Execution with Progress Tracking.
  Result: PASS  (0.9s)
    |    Total: 3
    |    Successful: 3
    |    Failed: 0
    | ============================================================
    | BatchExecutor demo complete!

----------------------------------------------------------------------
  [36/144] 02_execution/12_health_checks
  Title: ExecutionHealthChecker — System Health Monitoring for Operation Infrastructure.
  Result: PASS  (0.7s)
    |    DLQ critical: 10
    |    Stale warning: 30 min
    |    Failure rate warning: 10.0%
    | ============================================================
    | ExecutionHealthChecker demo complete!

----------------------------------------------------------------------
  [37/144] 02_execution/13_tracked_execution
  Title: TrackedExecution — Context Manager for Automatic Execution Recording.
  Result: PASS  (0.6s)
    | 6. Execution summary...
    |    completed: 4
    |    failed: 1
    | ============================================================
    | TrackedExecution demo complete!

----------------------------------------------------------------------
  [38/144] 02_execution/14_worker_loop
  Title: WorkerLoop — Background Polling Engine for Database-Backed Task Execution.
  Result: PASS  (2.4s)
    |         (self._batch_size,),
    |         ^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    | sqlite3.OperationalError: no such column: workflow

----------------------------------------------------------------------
  [39/144] 02_execution/15_async_local_executor
  Title: AsyncLocalExecutor — Native asyncio Execution Without Thread Overhead.
  Result: PASS  (1.1s)
    |   ? CPU-bound work blocks the event loop ? use ProcessExecutor
    |   ? Handlers must be async functions
    | ============================================================
    | [OK] AsyncLocalExecutor Complete!
    | ============================================================

----------------------------------------------------------------------
  [40/144] 02_execution/16_async_batch_executor
  Title: AsyncBatchExecutor — Bounded Fan-Out for Concurrent Async Operations.
  Result: PASS  (1.3s)
    |     ? Thread-based with ExecutionLedger persistence
    |     ? Best for: DB-tracked batch runs with retry
    | ============================================================
    | [OK] AsyncBatchExecutor Complete!
    | ============================================================

----------------------------------------------------------------------
  [41/144] 02_execution/17_state_machine
  Title: State Machine Transitions — Enforced Lifecycle for Job Executions.
  Result: PASS  (0.6s)
    |   ?  pending ? cancelled
    |   ?  running ? cancelled
    | ============================================================
    | All state machine examples completed successfully!
    | ============================================================

----------------------------------------------------------------------
  [42/144] 02_execution/18_hot_reload_adapter
  Title: Hot-Reload Adapter — dynamic config reloading for runtime adapters.
  Result: PASS  (0.8s)
    | This enables monitoring dashboards to track configuration drift
    | and reload frequency in production/staging environments.
    | ========================================================================
    | All HotReloadAdapter demonstrations complete!
    | ========================================================================

----------------------------------------------------------------------
  [43/144] 02_execution/19_local_process_adapter
  Title: LocalProcessAdapter — run container specs as local subprocesses.
  Result: FAIL  (4.2s)
    |            ~~~~~~~~~~~~~^^
    |   File "B:\github\py-sec-edgar\spine-core\examples\02_execution\19_local_process_adapter.py", line 258, in run
    |     health = await adapter.health_check()
    |                    ^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'LocalProcessAdapter' object has no attribute 'health_check'

----------------------------------------------------------------------
  [44/144] 02_execution/20_job_engine_lifecycle
  Title: JobEngine — unified entry-point for job submission and lifecycle management.
  Result: FAIL  (0.8s)
    |         ),
    |         ^^
    |     )
    |     ^
    | sqlite3.OperationalError: no such table: core_executions

----------------------------------------------------------------------
  [45/144] 02_execution/21_runtime_router
  Title: RuntimeAdapterRouter — multi-runtime registry, routing, and health.
  Result: PASS  (0.6s)
    |   Exception:   JobError: [not_found] No runtime adapter registered as 'kubernetes'. Available: local, stub
    |   ? Unknown runtime correctly rejected
    | ======================================================================
    | ALL SECTIONS PASSED ?
    | ======================================================================

----------------------------------------------------------------------
  [46/144] 02_execution/22_spec_validator
  Title: SpecValidator — pre-flight validation for ContainerJobSpec submissions.
  Result: PASS  (0.6s)
    |   GPU spec violations:    ['Spec requires GPU but runtime does not support it']
    |   ? Real adapter validation works correctly
    | ======================================================================
    | ALL SECTIONS PASSED ?
    | ======================================================================

----------------------------------------------------------------------
  [47/144] 02_execution/23_workflow_packager
  Title: WorkflowPackager — pack workflows into portable .pyz archives.
  Result: FAIL  (0.7s)
    |   File "B:\github\py-sec-edgar\spine-core\examples\02_execution\23_workflow_packager.py", line 241, in <module>
    |     wf = _build_test_workflow()
    |   File "B:\github\py-sec-edgar\spine-core\examples\02_execution\23_workflow_packager.py", line 96, in _build_test_workflow
    |     wf = Workflow(name="etl-operation", version="1.0.0")
    | TypeError: Workflow.__init__() missing 1 required positional argument: 'steps'

----------------------------------------------------------------------
  [48/144] 03_resilience/01_retry_strategies
  Title: Retry Strategies — Configurable retry patterns for transient failures.
  Result: PASS  (1.3s)
    |   Result: {'symbol': 'AAPL', 'price': 150.0, 'volume': 1000000}
    |   API calls made: 3
    | ============================================================
    | [OK] Retry Strategies Complete!
    | ============================================================

----------------------------------------------------------------------
  [49/144] 03_resilience/02_circuit_breaker
  Title: Circuit Breaker — Fail-fast protection for external services.
  Result: PASS  (1.0s)
    |   Circuit state: CLOSED
    |   Stats: 3 success, 0 failed
    | ============================================================
    | [OK] Circuit Breaker Complete!
    | ============================================================

----------------------------------------------------------------------
  [50/144] 03_resilience/03_rate_limiting
  Title: Rate Limiting — Control request throughput to external services.
  Result: PASS  (0.8s)
    |     META: 1,000,000 volume
    |   Completed in 0.000s
    | ============================================================
    | [OK] Rate Limiting Complete!
    | ============================================================

----------------------------------------------------------------------
  [51/144] 03_resilience/04_concurrency_guard
  Title: Concurrency Guard — Prevent overlapping operation runs.
  Result: PASS  (0.6s)
    |     [exec-101] Complete!
    |   Result: {'operation': 'otc_volume', 'week': '2024-01-19', 'status': 'success'}
    | ============================================================
    | [OK] Concurrency Guard Complete!
    | ============================================================

----------------------------------------------------------------------
  [52/144] 03_resilience/05_dead_letter_queue
  Title: Dead Letter Queue — Handle failed executions gracefully.
  Result: PASS  (0.7s)
    |     exec-001: ? retry failed
    |   Final unresolved: 1
    | ============================================================
    | [OK] Dead Letter Queue Complete!
    | ============================================================

----------------------------------------------------------------------
  [53/144] 03_resilience/06_timeout_enforcement
  Title: Timeout Enforcement — Deadlines and timeouts for reliable execution.
  Result: PASS  (2.1s)
    |   remaining: 30.0s
    |   is_expired: False
    | ============================================================
    | All timeout enforcement examples completed successfully!
    | ============================================================

----------------------------------------------------------------------
  [54/144] 04_orchestration/01_workflow_basics
  Title: Simple Workflow — Basic multi-step orchestration.
  Result: PASS  (0.8s)
    |   Analysis for MSFT: $151.17
    |   Analysis for GOOG: $151.17
    | ============================================================
    | [OK] Simple Workflow Complete!
    | ============================================================

----------------------------------------------------------------------
  [55/144] 04_orchestration/02_pipeline_vs_workflow
  Title: Operation vs Workflow — Understanding the differences.
  Result: PASS  (1.0s)
    |     ? Can have parallel branches
    |     ? Good for business processes, orchestration
    | ============================================================
    | [OK] Operation vs Workflow Complete!
    | ============================================================

----------------------------------------------------------------------
  [56/144] 04_orchestration/03_workflow_context
  Title: WorkflowContext — Data passing between steps.
  Result: PASS  (0.9s)
    |      analyze: {'ratio': 2.0}
    | 6. Context serialization...
    |    Serializable: ['run_id', 'workflow_name', 'params', 'partition', 'outputs']
    | ============================================================
    | WorkflowContext demo complete!

----------------------------------------------------------------------
  [57/144] 04_orchestration/04_step_adapters
  Title: Decoupled Functions — plain Python that works anywhere AND as workflow steps.
  Result: PASS  (0.7s)
    |     int   ? ok(output={"value": ...})
    |     None  ? ok()
    |   Functions never import spine types — the adapter handles everything.
    | [OK] All decoupled functions demonstrations passed
    | ============================================================

----------------------------------------------------------------------
  [58/144] 04_orchestration/05_choice_branching
  Title: Choice & Branching — conditional routing and error handling.
  Result: PASS  (0.7s)
    |   skipped         : True
    |   skip_reason     : Already processed: 0000320193-24-000081
    | ============================================================
    | [OK] Choice & Branching — all 3 patterns verified
    | ============================================================

----------------------------------------------------------------------
  [59/144] 04_orchestration/06_error_policies
  Title: Error Handling — Managing failures in workflows.
  Result: PASS  (0.9s)
    |     - e54a3f43... (unknown)
    |     - 97ff7cdf... (unknown)
    | ============================================================
    | [OK] Error Handling Complete!
    | ============================================================

----------------------------------------------------------------------
  [60/144] 04_orchestration/07_parallel_dag
  Title: Parallel DAG — diamond-shaped workflow with ThreadPoolExecutor.
  Result: PASS  (2.7s)
    |   [completed] merge_results             0.101s
    |   [completed] store                     0.101s
    | ============================================================
    | [OK] Parallel DAG — 1.8x speedup over sequential
    | ============================================================

----------------------------------------------------------------------
  [61/144] 04_orchestration/08_tracked_runner
  Title: TrackedWorkflowRunner — Database-backed workflow execution.
  Result: PASS  (0.7s)
    | 2026-02-17 16:04:13 [info     ] workflow.complete              completed_steps=3 duration_seconds=0.000702 failed_steps=0 run_id=3321a07c-c90c-4dba-9f68-48b70f308495 status=completed workflow=finra.otc_transparency.weekly_refresh
    |    Status: completed
    |    Run ID: 3321a07c... (different from first)
    | ============================================================
    | TrackedWorkflowRunner demo complete!

----------------------------------------------------------------------
  [62/144] 04_orchestration/09_workflow_playground
  Title: Workflow Playground — interactive step-by-step execution and debugging.
  Result: PASS  (0.9s)
    |   enrich: completed
    |   report: completed
    | ========================================================================
    | All WorkflowPlayground demonstrations complete!
    | ========================================================================

----------------------------------------------------------------------
  [63/144] 04_orchestration/10_workflow_registry_yaml
  Title: Workflow Registry & YAML Specs — discovery, lookup, and declarative definitions.
  Result: PASS  (0.7s)
    |   [OK] Stats after clear: {'total_workflows': 0, 'workflows_by_domain': {}}
    | 2026-02-17 16:04:15 [debug    ] workflow_registry_cleared
    | ============================================================
    | [OK] All registry & YAML demonstrations passed
    | ============================================================

----------------------------------------------------------------------
  [64/144] 04_orchestration/11_workflow_serialization
  Title: Workflow Serialization — to_dict, from_dict, to_yaml round-trips.
  Result: PASS  (0.7s)
    |     • Store workflows in databases or config management
    |     • Version control via YAML files
    |     • API payloads for remote workflow submission
    |     • Workflow templates with parameterization
    | ? All serialization examples completed successfully

----------------------------------------------------------------------
  [65/144] 04_orchestration/12_managed_workflow
  Title: Managed Operations — import existing code, get full lifecycle management.
  Result: PASS  (1.2s)
    |     operation = manage(fn1, fn2, fn3, db="runs.db")
    |   Your functions never import spine types.
    |   The adapter handles everything.
    | [OK] All managed operation demonstrations passed
    | ============================================================

----------------------------------------------------------------------
  [66/144] 04_orchestration/13_workflow_templates
  Title: Workflow Templates — pre-built patterns for common workflow shapes.
  Result: PASS  (0.7s)
    | Serialized to dict with 3 steps
    |   Step types: ['operation', 'lambda', 'operation']
    | ========================================================================
    | All workflow template demonstrations complete!
    | ========================================================================

----------------------------------------------------------------------
  [67/144] 04_orchestration/14_container_runnable
  Title: ContainerRunnable — bridging orchestration workflows with container execution.
  Result: PASS  (0.8s)
    |     runner = WorkflowRunner(runnable=runnable)
    |     result = runner.execute(wf, params={"date": "2026-01-15"})
    | ========================================================================
    | All ContainerRunnable demonstrations complete!
    | ========================================================================

----------------------------------------------------------------------
  [68/144] 04_orchestration/15_runnable_protocol
  Title: Runnable Protocol — Unified operation execution interface.
  Result: PASS  (0.9s)
    |     ? Just implement submit_operation_sync()
    |     ? WorkflowRunner doesn't care about the backend
    | ============================================================
    | [OK] Runnable Protocol Complete!
    | ============================================================

----------------------------------------------------------------------
  [69/144] 04_orchestration/16_webhook_triggers
  Title: Webhook Triggers — HTTP-triggered workflow and operation execution.
  Result: PASS  (0.8s)
    |          -H "Content-Type: application/json" \
    |          -d '{"date": "2026-01-15"}'
    | ============================================================
    | [OK] Webhook Triggers Complete!
    | ============================================================

----------------------------------------------------------------------
  [70/144] 04_orchestration/17_sec_etl_workflow
  Title: SEC ETL Workflow — full filing operation with mock and real modes.
  Result: PASS  (0.9s)
    |   json_bytes        : 7,853
    |   step_count        : 9
    | ============================================================
    | [OK] SEC ETL Operation — 9 steps completed in 0.270s (mock mode)
    | ============================================================

----------------------------------------------------------------------
  [71/144] 04_orchestration/18_parallel_vs_multiprocessing
  Title: Multiprocessing Comparison — raw parallelism vs orchestrated workflows.
  Result: PASS  (3.3s)
    |     data operations, not for tight numerical loops.
    |   NOTE: On Windows, multiprocessing.Pool uses 'spawn' which has
    |         high startup cost.  Pool may be slower for small tasks.
    | [OK] All benchmarks passed — parallelism verified
    | ============================================================

----------------------------------------------------------------------
  [72/144] 04_orchestration/19_workflow_linter
  Title: Workflow Linter — static analysis for workflow definitions.
  Result: PASS  (0.7s)
    | ============================================================
    | FAIL: messy | 1 errors | 1 warnings | 1 infos
    | ============================================================
    | Done — workflow linter example complete
    | ============================================================

----------------------------------------------------------------------
  [73/144] 04_orchestration/20_step_recorder
  Title: Step Recorder — capture and replay workflow executions.
  Result: PASS  (0.7s)
    |    Finished:     2026-02-17T22:04:25.966289+00:00
    |    Status:       completed
    | ============================================================
    | Done — step recorder example complete
    | ============================================================

----------------------------------------------------------------------
  [74/144] 04_orchestration/21_workflow_visualizer
  Title: Workflow Visualizer — Mermaid, ASCII, and summary output.
  Result: PASS  (0.9s)
    |    parallel_dag         ? basic (4 steps)
    |    decision_flow        ? intermediate (4 steps)
    | ============================================================
    | Done — workflow visualizer example complete
    | ============================================================

----------------------------------------------------------------------
  [75/144] 04_orchestration/22_composition_operators
  Title: Composition Operators — functional workflow builders.
  Result: PASS  (0.9s)
    | ============================================================
    |   Workflow: full.operation
    |   Steps:    ['fetch', 'clean', 'store']
    |   From:     ingest + transform + load
    | All composition examples completed successfully!

----------------------------------------------------------------------
  [76/144] 04_orchestration/23_dry_run
  Title: Dry-Run Mode — preview workflow execution without running.
  Result: PASS  (0.9s)
    | ============================================================
    |   delay: 300s (wait)
    |   process: 10s (operation)
    |   Total: 310s
    | All dry-run examples completed successfully!

----------------------------------------------------------------------
  [77/144] 04_orchestration/24_test_harness
  Title: Test Harness — utilities for testing workflows.
  Result: PASS  (0.8s)
    | 2026-02-17 16:04:29 [info     ] workflow.complete              completed_steps=0 duration_seconds=0.000264 failed_steps=1 run_id=6f566fed-805c-4cd6-9754-4805f1d8a6bf status=failed workflow=test.workflow
    |   assert_workflow_failed(step_1): PASS
    |   assert_workflow_failed(error_contains='broke'): PASS
    |   WorkflowAssertionError caught: Expected COMPLETED, got failed (error at 'step_1':...
    | All test harness examples completed successfully!

----------------------------------------------------------------------
  [78/144] 04_orchestration/25_llm_provider
  Title: LLM Provider Protocol — backend-agnostic LLM integration.
  Result: PASS  (1.0s)
    | 7. Protocol Compliance
    | ============================================================
    |   MockLLMProvider implements LLMProvider: True
    |   Router provider count: 3
    | All LLM provider examples completed successfully!

----------------------------------------------------------------------
  [79/144] 05_infrastructure/01_complete_pipeline
  Title: Complete Execution Infrastructure — Full operation with all resilience primitives.
  Result: FAIL  (1.9s)
    |     ~~~~^^
    |   File "B:\github\py-sec-edgar\spine-core\examples\05_infrastructure\01_complete_pipeline.py", line 255, in main
    |     print(f"  [{failure['operation']}] {failure.get('error', 'Unknown error')}")
    |                 ~~~~~~~^^^^^^^^^^^^
    | KeyError: 'operation'

----------------------------------------------------------------------
  [80/144] 05_infrastructure/02_mcp_server
  Title: MCP Server — AI-native Orchestration Interface.
  Result: PASS  (0.9s)
    |    - Add rate limiting at the proxy level
    |    - Monitor /health endpoint for abuse patterns
    | ? MCP server ready!
    |   Run: spine-core-mcp
    |   Or: spine-core-mcp --transport http --port 8100

----------------------------------------------------------------------
  [81/144] 06_observability/01_structured_logging
  Title: Structured Logging — Production-ready logging with structlog.
  Result: PASS  (0.3s)
    | 2026-02-17T22:04:33.755228+00:00 [INFO] operation: Load complete inserted=980
    | 2026-02-17T22:04:33.755246+00:00 [INFO] operation: Operation complete total_records=1000 success_rate=0.98
    | ============================================================
    | [OK] Structured Logging Complete!
    | ============================================================

----------------------------------------------------------------------
  [82/144] 06_observability/02_metrics
  Title: Metrics Collection — Prometheus-style metrics for monitoring.
  Result: PASS  (0.7s)
    |     Processed: 95
    |     Errors: 5
    | ============================================================
    | [OK] Metrics Collection Complete!
    | ============================================================

----------------------------------------------------------------------
  [83/144] 06_observability/03_context_binding
  Title: Context Binding — Thread-local context for observability.
  Result: PASS  (0.7s)
    | {"@timestamp": "2026-02-17T22:04:35.095528+00:00", "log.level": "info", "log.logger": "context_demo", "message": "Running isolated_task", "service.name": "spine", "service.environment": "development", "service.version": "1.0.0", "host.name": "ASUS-AMD-R01", "process.pid": 23568, "context": {"operation": "isolated_task"}}
    |   Context after isolation: {'global_field': 'preserved'}
    | ============================================================
    | [OK] Context Binding Complete!
    | ============================================================

----------------------------------------------------------------------
  [84/144] 07_real_world/01_entityspine_integration
  Title: EntitySpine Integration — Using spine-core with EntitySpine.
  Result: PASS  (1.3s)
    | [6] Mock API Statistics
    |   Total API calls: 11
    | ============================================================
    | [OK] EntitySpine Integration Complete!
    | ============================================================

----------------------------------------------------------------------
  [85/144] 07_real_world/02_feedspine_integration
  Title: FeedSpine Integration — Using spine-core with FeedSpine.
  Result: PASS  (1.4s)
    | [7] Mock API Statistics
    |   Total API calls: 14
    | ============================================================
    | [OK] FeedSpine Integration Complete!
    | ============================================================

----------------------------------------------------------------------
  [86/144] 07_real_world/03_combined_workflow
  Title: Combined Workflow — Using EntitySpine and FeedSpine together.
  Result: PASS  (1.5s)
    |   FeedSpine calls: 6
    |   Total API calls: 19
    | ============================================================
    | [OK] Combined Workflow Complete!
    | ============================================================

----------------------------------------------------------------------
  [87/144] 07_real_world/04_feed_ingestion
  Title: Feed Ingestion Operation — Production-style feed processing.
  Result: PASS  (1.9s)
    | ============================================================
    | Total runs executed: 5
    | Handlers registered: 7
    |   - Tasks: 5
    |   - Operations: 2

----------------------------------------------------------------------
  [88/144] 07_real_world/05_sec_filing_workflow
  Title: SEC Filing Workflow — Multi-step filing processing operation.
  Result: PASS  (4.2s)
    |    ? operation:batch_process_filings - 0ms
    |    ? operation:process_filing - 0ms
    | ============================================================
    | Demo complete!
    | ============================================================

----------------------------------------------------------------------
  [89/144] 08_framework/01_pipeline_basics
  Title: Operation Base Class — The building block of Spine workflows.
  Result: PASS  (0.4s)
    |    Name: example.simple
    |    Description: A simple demonstration operation
    |    Repr: SimpleOperation(params={'message': 'Processing', 'count': 3})
    | ============================================================
    | Operation basics demo complete!

----------------------------------------------------------------------
  [90/144] 08_framework/02_operation_runner
  Title: OperationRunner — Executing operations by name.
  Result: PASS  (0.5s)
    | 2026-02-17 16:04:46 [info     ] runner.completed               duration_ms=0.0 status=completed
    |    Ingest: 1000 rows
    |    Transform: 950 rows
    | ============================================================
    | OperationRunner demo complete!

----------------------------------------------------------------------
  [91/144] 08_framework/03_pipeline_registry
  Title: Operation Registry — Registering and discovering operations.
  Result: PASS  (0.5s)
    |    Cleared registry
    | 2026-02-17 16:04:47 [debug    ] operation_registry_loaded       registered=0
    |    Operations remaining: 0
    | ============================================================
    | Operation Registry demo complete!

----------------------------------------------------------------------
  [92/144] 08_framework/04_params_validation
  Title: Parameter Validation — OperationSpec with ParamDef.
  Result: PASS  (0.4s)
    |   '2025-06-15': valid=True, error=None
    |   'June 15th':  valid=False, error=Validation failed for date
    |   date(2025,6,15): valid=False, error=Expected type str, got date
    | ============================================================
    | [OK] Params validation example complete

----------------------------------------------------------------------
  [93/144] 08_framework/05_alert_routing
  Title: Alert Routing — AlertRegistry and delivery channels.
  Result: PASS  (0.5s)
    | --- 7. DeliveryResult ---
    |   OK:   success=True, channel=slack-ops
    |   Fail: success=False, error=SMTP timeout
    | ============================================================
    | [OK] Alert routing example complete

----------------------------------------------------------------------
  [94/144] 08_framework/06_source_connectors
  Title: Source Connectors — File ingestion with change detection.
  Result: PASS  (0.4s)
    |   Records: 2
    |     {'ticker': 'AAPL', 'price': '198.50', 'date': '2025-01-15'}
    |     {'ticker': 'MSFT', 'price': '420.30', 'date': '2025-01-15'}
    | ============================================================
    | [OK] Source connectors example complete

----------------------------------------------------------------------
  [95/144] 08_framework/07_framework_logging
  Title: Framework Logging — Structured logging with context and timing.
  Result: PASS  (0.4s)
    | 2026-02-17T22:04:48.810500Z [info     ] fetch_filing.end               [timing] capture_id=cap_abc123 domain=filings duration_ms=1.44 execution_id=exec_001 span_id=19097fc0 step=fetch workflow=sec_ingest
    | 2026-02-17T22:04:48.810793Z [debug    ] parse_sections.start           [timing] capture_id=cap_abc123 domain=filings execution_id=exec_001 span_id=1b51a725 step=parse_sections workflow=sec_ingest
    | 2026-02-17T22:04:48.813423Z [info     ] parse_sections.end             [timing] capture_id=cap_abc123 domain=filings duration_ms=2.64 execution_id=exec_001 span_id=1b51a725 step=fetch workflow=sec_ingest
    | 2026-02-17T22:04:48.813748Z [debug    ] validate_data.start            [timing] capture_id=cap_abc123 domain=filings execution_id=exec_001 span_id=250ac87f step=validate_data workflow=sec_ingest
    | 2026-02-17T22:04:48.814561Z [info     ] validate_data.end              [timing] capture_id=cap_abc123 domain=filings duration_ms=0.83 execution_id=exec_001 span_id=250ac87f step=fetch workflow=sec_ingest

----------------------------------------------------------------------
  [96/144] 09_data_layer/01_adapters
  Title: Database Adapters — Portable data access with SQLiteAdapter.
  Result: PASS  (0.4s)
    |   Disconnected: True
    | --- 7. AdapterRegistry ---
    |   Registered adapters: ['db2', 'mysql', 'oracle', 'postgres', 'postgresql', 'sqlite']
    | ============================================================
    | [OK] Database adapters example complete

----------------------------------------------------------------------
  [97/144] 09_data_layer/02_protocols_and_storage
  Title: Protocols and Storage — Type contracts and cross-dialect SQL.
  Result: PASS  (0.4s)
    | --- 5. StorageBackend protocol ---
    |   SimpleBackend conforms to StorageBackend: True
    |   Query via backend: [{'id': 1, 'name': 'test'}]
    | ============================================================
    | [OK] Protocols and storage example complete

----------------------------------------------------------------------
  [98/144] 09_data_layer/03_db_provider
  Title: Database Provider — Tier-agnostic connection injection.
  Result: PASS  (0.4s)
    |     set_connection_provider(create_pg_connection)
    |   Domain code stays IDENTICAL across tiers.
    |   Only the provider and dialect change at startup.
    | ============================================================
    | [OK] Database provider example complete

----------------------------------------------------------------------
  [99/144] 09_data_layer/04_migration_runner
  Title: Migration Runner — Versioned schema upgrades with tracking.
  Result: PASS  (0.4s)
    |    Rolled back: 03_products.sql
    |    Now pending: ['03_products.sql']
    | ============================================================
    | Migration Runner Example Complete!
    | ============================================================

----------------------------------------------------------------------
  [100/144] 09_data_layer/05_data_retention
  Title: Data Retention — Purge old records with configurable policies.
  Result: PASS  (0.4s)
    |    Recent executions remaining: 3
    |    Recent rejects remaining: 3
    | ============================================================
    | Data Retention Example Complete!
    | ============================================================

----------------------------------------------------------------------
  [101/144] 09_data_layer/06_schema_loader
  Title: Schema Loader — Bulk schema loading and introspection.
  Result: PASS  (0.4s)
    |    Applied: ['00_core.sql', '03_scheduler.sql', '04_alerting.sql', '05_sources.sql', '08_temporal.sql']
    |    Tables: ['_migrations', 'core_alert_channels', 'core_alert_deliveries', 'core_alert_throttle', 'core_alerts']...
    | ============================================================
    | Schema Loader Example Complete!
    | ============================================================

----------------------------------------------------------------------
  [102/144] 09_data_layer/07_database_portability
  Title: Database Portability — Write SQL that runs on any backend.
  Result: PASS  (0.5s)
    |   db2           DELETE FROM core_anomalies WHERE detected_at < CURRENT TIMESTAMP - 30 DAYS
    |   oracle        DELETE FROM core_anomalies WHERE detected_at < SYSTIMESTAMP - INTERVAL '30' DAY
    | ============================================================
    | Done! All SQL generated portably for 5 database backends.
    | ============================================================

----------------------------------------------------------------------
  [103/144] 09_data_layer/08_orm_integration
  Title: ORM Integration — SQLAlchemy ORM alongside the Dialect layer.
  Result: PASS  (1.1s)
    |   src-beta: Beta Feed (file) enabled=0
    | Execution via bridge: id=exec-001, workflow=ingest, status=running
    | Same row via ORM:    id=exec-001, workflow=ingest
    | Total sources after all transactions: 2
    | Done — ORM + Dialect layers coexist cleanly.

----------------------------------------------------------------------
  [104/144] 09_data_layer/09_orm_relationships
  Title: ORM Relationships — Navigate parent?child data via relationship().
  Result: PASS  (0.9s)
    |     Step 2: validate ? COMPLETED
    |     Step 3: load ? COMPLETED
    | ============================================================
    | Done — all 6 relationship groups navigated successfully.
    | ============================================================

----------------------------------------------------------------------
  [105/144] 09_data_layer/10_repository_bridge
  Title: Repository Bridge — Use BaseRepository over an ORM Session.
  Result: PASS  (1.0s)
    |   Repo insert + ORM read: name=Epsilon Feed
    |   Final source count: 5
    | ============================================================
    | Done — BaseRepository works seamlessly over ORM sessions.
    | ============================================================

----------------------------------------------------------------------
  [106/144] 09_data_layer/11_orm_vs_dialect
  Title: ORM vs Dialect — Side-by-side comparison of both data access paths.
  Result: PASS  (1.0s)
    |     ? Best of both — ORM session + repo convenience
    |     ? Useful in web frameworks where you already have a Session
    |     ? Mix ORM writes with raw-SQL reads in one transaction
    | Done — both paths demonstrated side by side.
    | ============================================================

----------------------------------------------------------------------
  [107/144] 10_operations/01_database_lifecycle
  Title: Database Lifecycle — Initialize, inspect, health-check, and purge.
  Result: PASS  (0.7s)
    | [7] Result ? dict (JSON-ready)
    |   success: True
    |   data: DatabaseHealth(connected=True, backend='sqlite', table_count=30, latency_ms=0.01)
    |   elapsed_ms: 0.33
    | ? Database lifecycle complete.

----------------------------------------------------------------------
  [108/144] 10_operations/02_run_management
  Title: Run Management — List, inspect, cancel, and retry execution runs.
  Result: PASS  (0.6s)
    |   would_execute : True
    | [12] Retry Dry-Run
    |   ? dry_run       : True
    |   would_execute   : True
    | ? Run management complete.

----------------------------------------------------------------------
  [109/144] 10_operations/03_workflow_ops
  Title: Workflow Operations — List, inspect, and run registered workflows.
  Result: PASS  (1.1s)
    | [6] Result ? dict
    |   keys: ['data', 'elapsed_ms', 'success']
    |   success: True
    | 2026-02-17 16:04:58 [debug    ] workflow_registry_cleared
    | ? Workflow operations complete.

----------------------------------------------------------------------
  [110/144] 10_operations/04_health_and_capabilities
  Title: Health & Capabilities — Aggregate health checks and runtime introspection.
  Result: PASS  (0.4s)
    |   code      : SERVICE_UNAVAILABLE
    |   message   : External dependency down
    |   retryable : True
    |   details   : {'service': 'redis', 'port': 6379}
    | ? Health & capabilities complete.

----------------------------------------------------------------------
  [111/144] 10_operations/05_alert_management
  Title: Alert Management — Channels, alerts, acknowledgement, and delivery tracking.
  Result: PASS  (0.4s)
    |   error.message : Alert channel 'ch_doesnotexist' not found
    | [15] Dry-Run Create Channel
    |   dry_run      : True
    |   would_create : dry-run-channel
    | ? Alert management complete.

----------------------------------------------------------------------
  [112/144] 10_operations/06_source_management
  Title: Source Management — Data sources, fetches, cache, and database connections.
  Result: PASS  (0.5s)
    |   remaining : 2
    | [20] Dry-Run Register Source
    |   dry_run      : True
    |   would_create : dry-test
    | ? Source management complete.

----------------------------------------------------------------------
  [113/144] 10_operations/07_pipeline_data
  Title: Operation Data Processing — Manifest, rejects, and work items.
  Result: PASS  (0.5s)
    |   CANCELLED     1
    |   COMPLETE      2
    |   FAILED        1
    |   RETRY_WAIT    1
    | ? Operation data processing complete.

----------------------------------------------------------------------
  [114/144] 10_operations/08_schedule_metadata
  Title: Schedule Metadata — Calc dependencies, expected schedules, and data readiness.
  Result: PASS  (0.4s)
    |   equity      pk=2026-02-15  ready=False  for=research
    | [16] Check Readiness for Domain = 'otc', Partition = '2026-02-15'
    |   otc         ready=True  blocking=[]
    |   otc         ready=False  blocking=['stage validate incomplete']
    | ? Schedule metadata complete.

----------------------------------------------------------------------
  [115/144] 10_operations/09_locks_dlq_quality
  Title: Lock and DLQ Management — Concurrency locks, schedule locks, dead letters.
  Result: PASS  (0.5s)
    |   otc           passed=2  failed=1  score=0.67
    | [16] Filter Quality by Operation = 'equity'
    |   total : 1
    |   equity        score=0.50
    | ? Locks, DLQ & quality complete.

----------------------------------------------------------------------
  [116/144] 10_operations/10_full_table_population
  Title: Full Table Population - Populates ALL 27 tables into a persistent SQLite file.
  Result: PASS  (1.3s)
    |   ? sqlite_sequence                        7
    |   Total: 28/31 tables populated, 96 total rows
    | ? All 27 tables populated in B:\github\py-sec-edgar\spine-core\examples\10_operations\full_demo.db
    |   Inspect with: sqlite3 B:\github\py-sec-edgar\spine-core\examples\10_operations\full_demo.db ".tables"
    |   Or: sqlite3 B:\github\py-sec-edgar\spine-core\examples\10_operations\full_demo.db "SELECT name, (SELECT COUNT(*) FROM [" || name || "]) as cnt FROM sqlite_master WHERE type='table' ORDER BY name;"

----------------------------------------------------------------------
  [117/144] 11_scheduling/01_backend_basics
  Title: Backend Basics — Pluggable timing backends and the SchedulerBackend protocol.
  Result: PASS  (1.7s)
    |     return future.result()
    |            ~~~~~~~~~~~~~^^
    |   File "B:\github\py-sec-edgar\spine-core\examples\11_scheduling\01_backend_basics.py", line 117, in flaky_tick
    |     raise RuntimeError("Simulated failure")
    | RuntimeError: Simulated failure

----------------------------------------------------------------------
  [118/144] 11_scheduling/02_schedule_repository
  Title: Schedule Repository — CRUD, cron evaluation, and run tracking.
  Result: PASS  (0.5s)
    |     ea306a06-faa... status=COMPLETED
    | [8] Delete Schedule
    |   deleted       : True
    |   remaining     : 1
    | ? Schedule repository complete.

----------------------------------------------------------------------
  [119/144] 11_scheduling/03_distributed_locks
  Title: Distributed Locks — Atomic lock acquire/release with TTL expiry.
  Result: PASS  (2.8s)
    | [7] Force Release All (recovery)
    |   force released : 1
    |   active locks   : 0
    | ? Distributed locks complete.
    | Force released 1 locks

----------------------------------------------------------------------
  [120/144] 11_scheduling/04_scheduler_service
  Title: Scheduler Service — Full lifecycle: start, tick, dispatch, pause, resume, health.
  Result: PASS  (2.1s)
    |         f"""
    |     ...<4 lines>...
    |         (now_iso,),
    |     )
    | sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 51856 and this is thread id 40760.

----------------------------------------------------------------------
  [121/144] 11_scheduling/05_health_monitoring
  Title: Health Monitoring — NTP drift detection and tick interval stability analysis.
  Result: PASS  (0.4s)
    |   errors   : ['Backend is not running']
    |   warnings :
    |     ? Last tick was 120.5s ago (threshold: 60s)
    |     ? High failure rate: 15/30 (50.0%)
    | ? Health monitoring complete.

----------------------------------------------------------------------
  [122/144] 12_deploy/01_quickstart
  Title: Deploy Quickstart — Configuration, backends, and result models.
  Result: PASS  (0.6s)
    |   default_profile       : apps
    |   results_retention     : 30 days
    | ============================================================
    | ? Quickstart complete — no containers needed.
    | ============================================================

----------------------------------------------------------------------
  [123/144] 12_deploy/02_backend_registry
  Title: Backend Registry — Browse, filter, and inspect database backend specs.
  Result: PASS  (0.4s)
    |   'infra' (5): postgres, redis, elasticsearch, qdrant, ollama
    |   'full' (10): spine-core-api, capture-spine-api, genai-spine-api, entityspine-api, ops-spine-mcp, postgres, redis, elasticsearch, qdrant, ollama
    | ============================================================
    | ? Backend registry exploration complete.
    | ============================================================

----------------------------------------------------------------------
  [124/144] 12_deploy/03_compose_generation
  Title: Compose Generation — Build docker-compose YAML on the fly.
  Result: PASS  (0.6s)
    |   SQLite port:  0 (0 = no container)
    |   PostgreSQL-only compose: 56 lines
    | ============================================================
    | ? Compose generation complete — no Docker required.
    | ============================================================

----------------------------------------------------------------------
  [125/144] 12_deploy/04_testbed_workflow
  Title: Testbed Workflow — Multi-backend database verification.
  Result: PASS  (0.5s)
    |   Backends count: 3
    |   First backend : postgresql
    | ============================================================
    | ? Testbed workflow simulation complete.
    | ============================================================

----------------------------------------------------------------------
  [126/144] 12_deploy/05_result_models
  Title: Result Models — Lifecycle, aggregation, and serialisation.
  Result: PASS  (0.5s)
    |   model_validate()  : ? round-trip preserved
    |   JSON size         : 1325 bytes
    | ============================================================
    | ? Result models deep dive complete.
    | ============================================================

----------------------------------------------------------------------
  [127/144] 12_deploy/06_log_collector
  Title: Log Collector — Structured output, summaries, and HTML reports.
  Result: PASS  (0.6s)
    |       ?? spine-core-api.log (34 bytes)
    |     ?? summary.json (2066 bytes)
    | ============================================================
    | ? Log collector demo complete.
    | ============================================================

----------------------------------------------------------------------
  [128/144] 12_deploy/07_env_configuration
  Title: Environment Configuration — Build config from environment variables.
  Result: PASS  (0.5s)
    |   Testbed backends: ['postgresql']
    |   Testbed parallel: True
    | ============================================================
    | ? Environment configuration demo complete.
    | ============================================================

----------------------------------------------------------------------
  [129/144] 12_deploy/08_schema_executor
  Title: Schema Executor — Verify table creation against a real database.
  Result: PASS  (7.8s)
    |   Restored success : False
    |   Round-trip match : True
    | ============================================================
    | ? Schema executor complete — real DDL applied, real tests run.
    | ============================================================

----------------------------------------------------------------------
  [130/144] 12_deploy/09_container_lifecycle
  Title: Container Lifecycle — Docker container management patterns.
  Result: PASS  (0.8s)
    |   Use: spine-core deploy clean
    |   Or:  ContainerManager().cleanup_orphans()
    | ============================================================
    | ? Container lifecycle demo complete.
    | ============================================================

----------------------------------------------------------------------
  [131/144] 12_deploy/10_workflow_integration
  Title: Workflow Integration — Deploy as a spine-core workflow.
  Result: PASS  (0.9s)
    |     - History tracking, retry semantics, step-level status
    |     - Best for: CI operations, nightly runs, production
    | ============================================================
    | ? Workflow integration complete.
    | ============================================================

----------------------------------------------------------------------
  [132/144] 12_deploy/11_cli_programmatic
  Title: CLI Programmatic — Invoke deploy commands from Python.
  Result: PASS  (8.8s)
    |   CLI:    spine-core deploy up --profile apps
    |   Python: DeploymentRunner(DeploymentConfig(mode=DeploymentMode.UP, profile="apps")).run()
    | ============================================================
    | ? CLI programmatic access complete.
    | ============================================================

----------------------------------------------------------------------
  [133/144] 12_deploy/12_ci_artifacts
  Title: CI Artifacts — Structured output for continuous integration.
  Result: PASS  (8.9s)
    |     exit_code = 1
    |     (PASSED ? 0, FAILED/PARTIAL/ERROR ? 1)
    | ============================================================
    | ? CI artifacts complete — all files produced in temp directory.
    | ============================================================

----------------------------------------------------------------------
  [134/144] 13_runtimes/01_container_job_spec
  Title: ContainerJobSpec — complete field reference with all 30+ parameters.
  Result: FAIL  (0.9s)
    |         gpu=1,
    |         ^^^^^^
    |     ),
    |     ^
    | TypeError: ResourceRequirements.__init__() got an unexpected keyword argument 'memory_mb'. Did you mean 'memory'?

----------------------------------------------------------------------
  [135/144] 13_runtimes/02_stub_adapter
  Title: StubRuntimeAdapter — injectable test double for unit testing.
  Result: FAIL  (0.8s)
    |     demo_fail_submit()
    |     ~~~~~~~~~~~~~~~~^^
    |   File "B:\github\py-sec-edgar\spine-core\examples\13_runtimes\02_stub_adapter.py", line 114, in demo_fail_submit
    |     stub = StubRuntimeAdapter(fail_submit=True)
    | TypeError: StubRuntimeAdapter.__init__() got an unexpected keyword argument 'fail_submit'

----------------------------------------------------------------------
  [136/144] 13_runtimes/03_error_taxonomy
  Title: Error taxonomy — JobError, ErrorCategory, and retryable semantics.
  Result: PASS  (0.8s)
    |   validation      ? Fix spec to match adapter capabilities
    |   ? Pattern matching works
    | ======================================================================
    | ALL SECTIONS PASSED ?
    | ======================================================================

----------------------------------------------------------------------
  [137/144] 13_runtimes/04_mock_adapters
  Title: Mock Runtime Adapters — test doubles for edge-case simulation.
  Result: PASS  (1.7s)
    |    Job A poll 2: running
    |    Job B still:  pending
    | ============================================================
    | Done — mock adapters example complete
    | ============================================================

----------------------------------------------------------------------
  [138/144] 13_workflows/04_sec_etl_workflow
  Title: SEC ETL Workflow — full filing operation with mock and real modes.
  Result: PASS  (1.2s)
    |   json_bytes        : 7,853
    |   step_count        : 9
    | ============================================================
    | [OK] SEC ETL Operation — 9 steps completed in 0.274s (mock mode)
    | ============================================================

----------------------------------------------------------------------
  [139/144] 14_golden_workflows/01_golden_path_workflow
  Title: Golden Path Workflow — all 7 phases in one end-to-end run.
  Result: PASS  (0.9s)
    |     Phase 8  ? wf.table_counts() + wf.history()        Audit trail
    |   Same workflow works across:
    |     SDK  ? wf.run(partition={...})
    |     CLI  ? spine-core workflow run golden.sec_workflow --partition '{"cik":"..."}"
    |     API  ? POST /api/v1/workflows/golden.sec_workflow/run

----------------------------------------------------------------------
  [140/144] 14_golden_workflows/02_medallion_pipeline
  Title: Multi-Stage Medallion Workflow — Bronze ? Silver ? Gold with quality gates.
  Result: PASS  (0.8s)
    |   Medallion workflow completed:
    |     Bronze  ? 4 raw records ingested
    |     Silver  ? 3 cleaned, 1 rejected
    |     Gold    ? Score 75/100, Trend: GROWING
    |     Quality ? 5 checks, all passed: True

----------------------------------------------------------------------
  [141/144] 14_golden_workflows/03_long_running_monitor
  Title: Long-Running Workflow Monitor — timeouts, progress, concurrency guards.
  Result: FAIL  (0.7s)
    |     ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
    |   File "B:\github\py-sec-edgar\spine-core\src\spine\execution\ledger.py", line 119, in create_execution
    |     cursor = self._conn.cursor()
    |              ^^^^^^^^^^^^^^^^^
    | AttributeError: 'SqliteConnection' object has no attribute 'cursor'

----------------------------------------------------------------------
  [142/144] 14_golden_workflows/04_container_deployment
  Title: Container Deployment — same workflow running in Docker/Podman.
  Result: FAIL  (0.4s)
    |     )
    |   File "B:\github\py-sec-edgar\spine-core\src\spine\deploy\compose.py", line 133, in generate_testbed_compose
    |     if not spec.image:
    |            ^^^^^^^^^^
    | AttributeError: 'str' object has no attribute 'image'

----------------------------------------------------------------------
  [143/144] 14_golden_workflows/05_cli_sdk_api_parity
  Title: CLI / SDK / API Parity — one workflow, three surfaces, same results.
  Result: PASS  (0.8s)
    |     +---------------------------------------------+
    |   Because all three call:
    |     spine.ops.workflows.run_workflow()
    |       ? spine.orchestration.WorkflowRunner.execute()
    |         ? spine.core.repositories.RunRepository.create()

----------------------------------------------------------------------
  [144/144] 14_golden_workflows/06_e2e_validate_everything
  Title: End-to-End Validation Workflow — spin up, ingest, calculate, store, verify.
  Result: FAIL  (0.3s)
    | Traceback (most recent call last):
    |   File "B:\github\py-sec-edgar\spine-core\examples\14_golden_workflows\06_e2e_validate_everything.py", line 107, in <module>
    |     assert all_present, "Not all core tables were created!"
    |            ^^^^^^^^^^^
    | AssertionError: Not all core tables were created!

======================================================================
RESULTS SUMMARY
======================================================================
  [PASS] 01_core/01_result_pattern                             0.3s
  [PASS] 01_core/02_error_handling                             0.3s
  [PASS] 01_core/03_advanced_errors                            0.3s
  [PASS] 01_core/04_reject_handling                            0.3s
  [PASS] 01_core/05_temporal_weekending                        0.4s
  [PASS] 01_core/06_temporal_envelope                          0.4s
  [PASS] 01_core/07_rolling_windows                            0.3s
  [PASS] 01_core/08_watermark_tracking                         0.3s
  [PASS] 01_core/09_quality_checks                             0.3s
  [PASS] 01_core/10_idempotency                                0.3s
  [PASS] 01_core/11_anomaly_recording                          0.3s
  [PASS] 01_core/12_content_hashing                            0.3s
  [PASS] 01_core/13_execution_context                          0.3s
  [PASS] 01_core/14_work_manifest                              0.3s
  [PASS] 01_core/15_backfill_planning                          0.3s
  [PASS] 01_core/16_cache_backends                             2.5s
  [PASS] 01_core/17_versioned_content                          0.3s
  [PASS] 01_core/18_domain_primitives                          0.3s
  [PASS] 01_core/19_tagging                                    0.3s
  [PASS] 01_core/20_asset_tracking                             0.3s
  [PASS] 01_core/21_finance_adjustments                        0.3s
  [PASS] 01_core/22_finance_corrections                        0.3s
  [PASS] 01_core/23_feature_flags                              0.4s
  [PASS] 01_core/24_secrets_resolver                           0.4s
  [PASS] 02_execution/01_workspec_basics                       0.7s
  [PASS] 02_execution/02_handler_registration                  0.6s
  [PASS] 02_execution/03_dispatcher_basics                     1.1s
  [PASS] 02_execution/04_run_lifecycle                         0.9s
  [PASS] 02_execution/05_memory_executor                       0.8s
  [PASS] 02_execution/06_local_executor                        1.3s
  [PASS] 02_execution/07_async_patterns                        1.0s
  [PASS] 02_execution/08_fastapi_integration                   1.0s
  [PASS] 02_execution/09_execution_ledger                      0.6s
  [FAIL] 02_execution/10_execution_repository                  0.6s
  [PASS] 02_execution/11_batch_execution                       0.9s
  [PASS] 02_execution/12_health_checks                         0.7s
  [PASS] 02_execution/13_tracked_execution                     0.6s
  [PASS] 02_execution/14_worker_loop                           2.4s
  [PASS] 02_execution/15_async_local_executor                  1.1s
  [PASS] 02_execution/16_async_batch_executor                  1.3s
  [PASS] 02_execution/17_state_machine                         0.6s
  [PASS] 02_execution/18_hot_reload_adapter                    0.8s
  [FAIL] 02_execution/19_local_process_adapter                 4.2s
  [FAIL] 02_execution/20_job_engine_lifecycle                  0.8s
  [PASS] 02_execution/21_runtime_router                        0.6s
  [PASS] 02_execution/22_spec_validator                        0.6s
  [FAIL] 02_execution/23_workflow_packager                     0.7s
  [PASS] 03_resilience/01_retry_strategies                     1.3s
  [PASS] 03_resilience/02_circuit_breaker                      1.0s
  [PASS] 03_resilience/03_rate_limiting                        0.8s
  [PASS] 03_resilience/04_concurrency_guard                    0.6s
  [PASS] 03_resilience/05_dead_letter_queue                    0.7s
  [PASS] 03_resilience/06_timeout_enforcement                  2.1s
  [PASS] 04_orchestration/01_workflow_basics                   0.8s
  [PASS] 04_orchestration/02_pipeline_vs_workflow              1.0s
  [PASS] 04_orchestration/03_workflow_context                  0.9s
  [PASS] 04_orchestration/04_step_adapters                     0.7s
  [PASS] 04_orchestration/05_choice_branching                  0.7s
  [PASS] 04_orchestration/06_error_policies                    0.9s
  [PASS] 04_orchestration/07_parallel_dag                      2.7s
  [PASS] 04_orchestration/08_tracked_runner                    0.7s
  [PASS] 04_orchestration/09_workflow_playground               0.9s
  [PASS] 04_orchestration/10_workflow_registry_yaml            0.7s
  [PASS] 04_orchestration/11_workflow_serialization            0.7s
  [PASS] 04_orchestration/12_managed_workflow                  1.2s
  [PASS] 04_orchestration/13_workflow_templates                0.7s
  [PASS] 04_orchestration/14_container_runnable                0.8s
  [PASS] 04_orchestration/15_runnable_protocol                 0.9s
  [PASS] 04_orchestration/16_webhook_triggers                  0.8s
  [PASS] 04_orchestration/17_sec_etl_workflow                  0.9s
  [PASS] 04_orchestration/18_parallel_vs_multiprocessing       3.3s
  [PASS] 04_orchestration/19_workflow_linter                   0.7s
  [PASS] 04_orchestration/20_step_recorder                     0.7s
  [PASS] 04_orchestration/21_workflow_visualizer               0.9s
  [PASS] 04_orchestration/22_composition_operators             0.9s
  [PASS] 04_orchestration/23_dry_run                           0.9s
  [PASS] 04_orchestration/24_test_harness                      0.8s
  [PASS] 04_orchestration/25_llm_provider                      1.0s
  [FAIL] 05_infrastructure/01_complete_pipeline                1.9s
  [PASS] 05_infrastructure/02_mcp_server                       0.9s
  [PASS] 06_observability/01_structured_logging                0.3s
  [PASS] 06_observability/02_metrics                           0.7s
  [PASS] 06_observability/03_context_binding                   0.7s
  [PASS] 07_real_world/01_entityspine_integration              1.3s
  [PASS] 07_real_world/02_feedspine_integration                1.4s
  [PASS] 07_real_world/03_combined_workflow                    1.5s
  [PASS] 07_real_world/04_feed_ingestion                       1.9s
  [PASS] 07_real_world/05_sec_filing_workflow                  4.2s
  [PASS] 08_framework/01_pipeline_basics                       0.4s
  [PASS] 08_framework/02_operation_runner                       0.5s
  [PASS] 08_framework/03_pipeline_registry                     0.5s
  [PASS] 08_framework/04_params_validation                     0.4s
  [PASS] 08_framework/05_alert_routing                         0.5s
  [PASS] 08_framework/06_source_connectors                     0.4s
  [PASS] 08_framework/07_framework_logging                     0.4s
  [PASS] 09_data_layer/01_adapters                             0.4s
  [PASS] 09_data_layer/02_protocols_and_storage                0.4s
  [PASS] 09_data_layer/03_db_provider                          0.4s
  [PASS] 09_data_layer/04_migration_runner                     0.4s
  [PASS] 09_data_layer/05_data_retention                       0.4s
  [PASS] 09_data_layer/06_schema_loader                        0.4s
  [PASS] 09_data_layer/07_database_portability                 0.5s
  [PASS] 09_data_layer/08_orm_integration                      1.1s
  [PASS] 09_data_layer/09_orm_relationships                    0.9s
  [PASS] 09_data_layer/10_repository_bridge                    1.0s
  [PASS] 09_data_layer/11_orm_vs_dialect                       1.0s
  [PASS] 10_operations/01_database_lifecycle                   0.7s
  [PASS] 10_operations/02_run_management                       0.6s
  [PASS] 10_operations/03_workflow_ops                         1.1s
  [PASS] 10_operations/04_health_and_capabilities              0.4s
  [PASS] 10_operations/05_alert_management                     0.4s
  [PASS] 10_operations/06_source_management                    0.5s
  [PASS] 10_operations/07_pipeline_data                        0.5s
  [PASS] 10_operations/08_schedule_metadata                    0.4s
  [PASS] 10_operations/09_locks_dlq_quality                    0.5s
  [PASS] 10_operations/10_full_table_population                1.3s
  [PASS] 11_scheduling/01_backend_basics                       1.7s
  [PASS] 11_scheduling/02_schedule_repository                  0.5s
  [PASS] 11_scheduling/03_distributed_locks                    2.8s
  [PASS] 11_scheduling/04_scheduler_service                    2.1s
  [PASS] 11_scheduling/05_health_monitoring                    0.4s
  [PASS] 12_deploy/01_quickstart                               0.6s
  [PASS] 12_deploy/02_backend_registry                         0.4s
  [PASS] 12_deploy/03_compose_generation                       0.6s
  [PASS] 12_deploy/04_testbed_workflow                         0.5s
  [PASS] 12_deploy/05_result_models                            0.5s
  [PASS] 12_deploy/06_log_collector                            0.6s
  [PASS] 12_deploy/07_env_configuration                        0.5s
  [PASS] 12_deploy/08_schema_executor                          7.8s
  [PASS] 12_deploy/09_container_lifecycle                      0.8s
  [PASS] 12_deploy/10_workflow_integration                     0.9s
  [PASS] 12_deploy/11_cli_programmatic                         8.8s
  [PASS] 12_deploy/12_ci_artifacts                             8.9s
  [FAIL] 13_runtimes/01_container_job_spec                     0.9s
  [FAIL] 13_runtimes/02_stub_adapter                           0.8s
  [PASS] 13_runtimes/03_error_taxonomy                         0.8s
  [PASS] 13_runtimes/04_mock_adapters                          1.7s
  [PASS] 13_workflows/04_sec_etl_workflow                      1.2s
  [PASS] 14_golden_workflows/01_golden_path_workflow           0.9s
  [PASS] 14_golden_workflows/02_medallion_pipeline             0.8s
  [FAIL] 14_golden_workflows/03_long_running_monitor           0.7s
  [FAIL] 14_golden_workflows/04_container_deployment           0.4s
  [PASS] 14_golden_workflows/05_cli_sdk_api_parity             0.8s
  [FAIL] 14_golden_workflows/06_e2e_validate_everything        0.3s

  Total: 144  |  Passed: 134  |  Failed: 10

  FAILURES (10):
    02_execution/10_execution_repository
      |     """)
      |     ^^^^
      | sqlite3.OperationalError: no such column: operation
    02_execution/19_local_process_adapter
      |     health = await adapter.health_check()
      |                    ^^^^^^^^^^^^^^^^^^^^
      | AttributeError: 'LocalProcessAdapter' object has no attribute 'health_check'
    02_execution/20_job_engine_lifecycle
      |     )
      |     ^
      | sqlite3.OperationalError: no such table: core_executions
    02_execution/23_workflow_packager
      |   File "B:\github\py-sec-edgar\spine-core\examples\02_execution\23_workflow_packager.py", line 96, in _build_test_workflow
      |     wf = Workflow(name="etl-operation", version="1.0.0")
      | TypeError: Workflow.__init__() missing 1 required positional argument: 'steps'
    05_infrastructure/01_complete_pipeline
      |     print(f"  [{failure['operation']}] {failure.get('error', 'Unknown error')}")
      |                 ~~~~~~~^^^^^^^^^^^^
      | KeyError: 'operation'
    13_runtimes/01_container_job_spec
      |     ),
      |     ^
      | TypeError: ResourceRequirements.__init__() got an unexpected keyword argument 'memory_mb'. Did you mean 'memory'?
    13_runtimes/02_stub_adapter
      |   File "B:\github\py-sec-edgar\spine-core\examples\13_runtimes\02_stub_adapter.py", line 114, in demo_fail_submit
      |     stub = StubRuntimeAdapter(fail_submit=True)
      | TypeError: StubRuntimeAdapter.__init__() got an unexpected keyword argument 'fail_submit'
    14_golden_workflows/03_long_running_monitor
      |     cursor = self._conn.cursor()
      |              ^^^^^^^^^^^^^^^^^
      | AttributeError: 'SqliteConnection' object has no attribute 'cursor'
    14_golden_workflows/04_container_deployment
      |     if not spec.image:
      |            ^^^^^^^^^^
      | AttributeError: 'str' object has no attribute 'image'
    14_golden_workflows/06_e2e_validate_everything
      |     assert all_present, "Not all core tables were created!"
      |            ^^^^^^^^^^^
      | AssertionError: Not all core tables were created!

======================================================================
DATABASE VERIFICATION REPORT
======================================================================

  Tables found: 29

  Table                                  Dialect        ORM   Match
  ----------------------------------- ---------- ---------- -------
  core_alert_channels                          0          0      OK
  core_alert_deliveries                        0          0      OK
  core_alert_throttle                          0          0      OK
  core_alerts                                  0          0      OK
  core_anomalies                               0          0      OK
  core_backfill_plans                          0          - MISMATCH
  core_bitemporal_facts                        0          - MISMATCH
  core_calc_dependencies                       0          0      OK
  core_concurrency_locks                       0          0      OK
  core_data_readiness                          0          0      OK
  core_database_connections                    0          0      OK
  core_dead_letters                            0          0      OK
  core_execution_events                      657        657      OK
  core_executions                            144        144      OK
  core_expected_schedules                      0          0      OK
  core_manifest                                0          0      OK
  core_quality                                 0          0      OK
  core_rejects                                 0          0      OK
  core_schedule_locks                          0          0      OK
  core_schedule_runs                           0          0      OK
  core_schedules                               0          0      OK
  core_source_cache                            0          0      OK
  core_source_fetches                          0          0      OK
  core_sources                                 0          0      OK
  core_watermarks                              0          - MISMATCH
  core_work_items                              0          0      OK
  core_workflow_events                         0          0      OK
  core_workflow_runs                           0          0      OK
  core_workflow_steps                          0          0      OK

  WARNING: 3 table(s) have mismatched counts!

  Dialect DB: 144 executions, 657 events recorded

  ORM DB: 144 executions, 657 events recorded

  Results saved to: B:\github\py-sec-edgar\spine-core\examples\results\run_results.json
